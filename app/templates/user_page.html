<!--
    lame
    Amelia Chin, Ethan Shenker, Maddy Andersen, Liam Kronman
    P3 - Study Zone
    2021-04-26
-->

<!DOCTYPE html>

<html lang="en">

    <head>
        <title> {% block title %}  {% endblock %} </title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="/static/css/style.css">
    </head>

    <body onload="updateClock(); setInterval('updateClock()', 1000)">

        <section class="header">

            <h4> {{ greeting }}, {{ session.get("username") }}! </h4>
            <div class="logout">
                <form method="get" action="/logout">
                    <input name="Submit" type="submit" value="Logout"> <br>
                </form>
            </div>

        </section>


        <section class="body">
            <div id="clock">
            </div>

            <div class="notes">


            <form method="post" action="/notes_update">
                <textarea name="notes" rows="15" cols="60" style="resize:none;">Write Notes Here!</textarea><br>
                <input type="submit" name="submit" value="Save">
            </div>

            <div>
                <p>{{ adv }}</p>
                <p>{{ holi }}</p>
            </div>

        </section>


        <br> <br>

        <section class="footer">
            {% if session.get("user_id") %}
            {% endif %}
        </section>

        <script>
            function updateClock() {
                var currentTime = new Date();
        
                var currentHours = currentTime.getHours();
                var currentMinutes = currentTime.getMinutes();
                var currentSeconds = currentTime.getSeconds();
        
                currentMinutes = (currentMinutes < 10 ? "0" : "") + currentMinutes;
                currentSeconds = (currentSeconds < 10 ? "0" : "") + currentSeconds;
        
                var timeOfDay = (currentHours < 12) ? "AM" : "PM";
        
                currentHours = (currentHours > 12) ? currentHours - 12 : currentHours;
        
                currentHours = (currentHours == 0) ? 12 : currentHours;

                var currentDay = currentTime.getDay();
    
                currentDay = (currentDay == 0) ? "Sun" : currentDay;
                currentDay = (currentDay == 1) ? "Mon" : currentDay;
                currentDay = (currentDay == 2) ? "Tue" : currentDay;
                currentDay = (currentDay == 3) ? "Wed" : currentDay;
                currentDay = (currentDay == 4) ? "Thu" : currentDay;
                currentDay = (currentDay == 5) ? "Fri" : currentDay;
                currentDay = (currentDay == 6) ? "Sat" : currentDay;
                
                var currentMonth = currentTime.getMonth( ); 
                
                currentMonth = (currentMonth == 0) ? "January" : currentMonth;
                currentMonth = (currentMonth == 1) ? "February" : currentMonth;
                currentMonth = (currentMonth == 2) ? "March" : currentMonth;
                currentMonth = (currentMonth == 3) ? "April" : currentMonth;
                currentMonth = (currentMonth == 4) ? "May" : currentMonth;
                currentMonth = (currentMonth == 5) ? "June" : currentMonth;
                currentMonth = (currentMonth == 6) ? "July" : currentMonth;
                currentMonth = (currentMonth == 7) ? "August" : currentMonth;
                currentMonth = (currentMonth == 8) ? "September" : currentMonth;
                currentMonth = (currentMonth == 9) ? "October" : currentMonth;
                currentMonth = (currentMonth == 10) ? "November" : currentMonth;
                currentMonth = (currentMonth == 11) ? "December" : currentMonth;
                
                var currentDate = currentTime.getDate();
                
                currentDate = (currentDate == 1 || currentDate == 21 || currentDate == 31) ? currentDate + "st" : currentDate;
                currentDate = (currentDate == 2 || currentDate == 22) ? currentDate + "nd" : currentDate;
                currentDate = (currentDate == 3) || currentDate == 23 ? currentDate + "rd" : currentDate;
                currentDate = (currentDate > 3 || currentDate < 21 || currentDate > 23 || currentDate < 31) ? currentDate + "th" : currentDate;

                var currentTimeString = currentHours + ":" + currentMinutes + ":" + currentSeconds + " " + timeOfDay + "\n\n" + currentDay + " " + currentMonth + " " + currentDate;

                document.getElementById('clock').firstChild.nodeValue=currentTimeString;
            }
        </script>
    </body>
</html>
